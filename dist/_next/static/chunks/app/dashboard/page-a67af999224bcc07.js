(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{8704:function(e,t,s){Promise.resolve().then(s.bind(s,6292))},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},3581:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},1671:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9388:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},1817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3145:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(8461),r=s.n(a)},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"notFound")&&s.d(t,{notFound:function(){return a.notFound}}),s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8461:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return c},getImageProps:function(){return i}});let a=s(7043),r=s(5346),l=s(5878),n=a._(s(5084));function i(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=l.Image},6292:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var a=s(7437),r=s(2265),l=s(7648),n=s(3145),i=s(9376),c=s(1579),o=s(1215);function d(e){let{children:t,fallback:s}=e,{isAuthenticated:l,isLoading:n}=(0,c.aC)(),d=(0,i.useRouter)(),m=(0,i.usePathname)();return((0,r.useEffect)(()=>{if(!n&&!l){let e=encodeURIComponent(m);d.push("/login?callbackUrl=".concat(e))}},[l,n,d,m]),n||!l)?s||(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(o.InlineLoading,{size:"lg"})}):(0,a.jsx)(a.Fragment,{children:t})}var m=s(7644),u=s(6586),x=s(1047),h=s(8997),g=s(2369),p=s(8755);let f=(0,p.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),b=(0,p.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var j=s(3774),v=s(6595);let y=(0,p.Z)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var N=s(3581),w=s(1671),k=s(9388);let S=[{id:"booking-1",property:u.wV[0],checkIn:"2024-03-15",checkOut:"2024-03-18",guests:2,totalPrice:1050,status:"upcoming",createdAt:"2024-02-01"},{id:"booking-2",property:u.wV[1],checkIn:"2024-02-10",checkOut:"2024-02-12",guests:2,totalPrice:560,status:"completed",createdAt:"2024-01-20"}],C=[u.wV[0],u.wV[1]];function Z(){var e,t;let{user:s,logout:i}=(0,c.aC)(),[o,d]=(0,r.useState)("bookings"),[u,p]=(0,r.useState)(!1),[Z,z]=(0,r.useState)({name:(null==s?void 0:s.name)||"",email:(null==s?void 0:s.email)||"",phone:"",memberSince:"2024年1月"}),I=[{id:"bookings",label:"我的预订",icon:x.Z},{id:"favorites",label:"收藏房源",icon:h.Z},{id:"profile",label:"个人信息",icon:g.Z}],P=e=>(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat({upcoming:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"}[e]),children:{upcoming:"即将入住",completed:"已完成",cancelled:"已取消"}[e]}),E=()=>{p(!1),alert("个人信息已更新！")};return(0,a.jsx)("main",{className:"min-h-screen bg-amber-50 pt-20",children:(0,a.jsx)("div",{className:"pt-4 pb-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[(0,a.jsx)(m.Yt,{name:(null==s?void 0:s.name)||"",image:(null==s?void 0:s.image)||null,size:"xl",className:"shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:["欢迎回来，",(null==s?void 0:null===(e=s.name)||void 0===e?void 0:e.split(" ").filter(e=>e)[0])||(null==s?void 0:null===(t=s.email)||void 0===t?void 0:t.split("@")[0])||"User"]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["会员自 ",Z.memberSince]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>d("profile"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(f,{size:18}),"设置"]}),(0,a.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[(0,a.jsx)(b,{size:18}),"退出"]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,a.jsx)("nav",{className:"p-2",children:I.map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>d(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ".concat(o===e.id?"bg-amber-100 text-amber-900":"text-gray-700 hover:bg-gray-50"),children:[(0,a.jsx)(t,{size:20}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id)})})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mt-4 p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"账户概览"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"已完成预订"}),(0,a.jsx)("span",{className:"font-semibold",children:"1"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"即将入住"}),(0,a.jsx)("span",{className:"font-semibold",children:"1"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"收藏房源"}),(0,a.jsx)("span",{className:"font-semibold",children:C.length})]})]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:["bookings"===o&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"我的预订"}),(0,a.jsx)(l.default,{href:"/properties",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"浏览房源 →"})]}),S.length>0?S.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)(l.default,{href:"/properties/".concat(e.property.id),className:"relative w-full md:w-48 h-32 rounded-lg overflow-hidden shrink-0",children:(0,a.jsx)(n.default,{src:e.property.images[0],alt:e.property.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)(l.default,{href:"/properties/".concat(e.property.id),className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:e.property.title}),P(e.status)]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-sm mb-3",children:[(0,a.jsx)(j.Z,{size:14}),(0,a.jsx)("span",{children:e.property.location})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(x.Z,{size:14}),(0,a.jsxs)("span",{children:[e.checkIn," ~ ",e.checkOut]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(g.Z,{size:14}),(0,a.jsxs)("span",{children:[e.guests,"位房客"]})]}),(0,a.jsxs)("div",{className:"font-semibold text-gray-900",children:["\xa5",e.totalPrice.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:["upcoming"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"查看详情"}),(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-50 transition-colors",children:"取消预订"})]}),"completed"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-amber-500 text-white text-sm rounded-lg hover:bg-amber-600 transition-colors",children:"写评价"}),(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-50 transition-colors",children:"再次预订"})]})]})]})]})},e.id)):(0,a.jsxs)("div",{className:"bg-white rounded-xl p-12 text-center",children:[(0,a.jsx)(x.Z,{size:48,className:"text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"暂无预订"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"您还没有任何预订记录"}),(0,a.jsx)(l.default,{href:"/properties",className:"inline-block px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:"浏览房源"})]})]}),"favorites"===o&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"收藏房源"}),C.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[(0,a.jsxs)(l.default,{href:"/properties/".concat(e.id),className:"relative aspect-[4/3] overflow-hidden block",children:[(0,a.jsx)(n.default,{src:e.images[0],alt:e.title,fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute top-3 right-3 p-2 rounded-full bg-white/90",children:(0,a.jsx)(h.Z,{size:18,className:"text-red-500 fill-red-500"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)(l.default,{href:"/properties/".concat(e.id),className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-sm mt-1",children:[(0,a.jsx)(j.Z,{size:14}),(0,a.jsx)("span",{className:"truncate",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.Z,{size:16,className:"text-amber-400 fill-amber-400"}),(0,a.jsx)("span",{className:"font-medium",children:e.rating})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:"font-bold text-gray-900",children:["\xa5",e.price.toLocaleString()]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["/",e.priceUnit]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,a.jsx)(l.default,{href:"/properties/".concat(e.id),className:"flex-1 px-4 py-2 bg-amber-500 text-white text-sm text-center rounded-lg hover:bg-amber-600 transition-colors",children:"立即预订"}),(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-50 transition-colors",children:"取消收藏"})]})]})]},e.id))}):(0,a.jsxs)("div",{className:"bg-white rounded-xl p-12 text-center",children:[(0,a.jsx)(h.Z,{size:48,className:"text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"暂无收藏"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"您还没有收藏任何房源"}),(0,a.jsx)(l.default,{href:"/properties",className:"inline-block px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:"浏览房源"})]})]}),"profile"===o&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"个人信息"}),(0,a.jsx)("button",{onClick:()=>u?E():p(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:u?(0,a.jsx)(a.Fragment,{children:"保存"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{size:16}),"编辑"]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Yt,{name:(null==s?void 0:s.name)||null,image:(null==s?void 0:s.image)||null,size:"xl"}),u&&(0,a.jsx)("button",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white rounded-full",children:(0,a.jsx)(N.Z,{size:24})})]}),u&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"点击更换头像"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"姓名"}),(0,a.jsx)("input",{type:"text",value:Z.name,onChange:e=>z({...Z,name:e.target.value}),disabled:!u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱"}),(0,a.jsx)("input",{type:"email",value:Z.email,onChange:e=>z({...Z,email:e.target.value}),disabled:!u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"手机号"}),(0,a.jsx)("input",{type:"tel",value:Z.phone,onChange:e=>z({...Z,phone:e.target.value}),disabled:!u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"注册时间"}),(0,a.jsx)("input",{type:"text",value:Z.memberSince,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"账户安全"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(w.Z,{size:20,className:"text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"登录密码"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"已设置"})]})]}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"修改"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(w.Z,{size:20,className:"text-yellow-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"手机验证"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:Z.phone||"未设置"})]})]}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"修改"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,a.jsx)(k.Z,{size:20,className:"text-gray-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"双重验证"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"未开启"})]})]}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"开启"})]})]})]})]})]})]})]})})})}function z(){return(0,a.jsx)(d,{children:(0,a.jsx)(Z,{})})}},1215:function(e,t,s){"use strict";s.d(t,{InlineLoading:function(){return i},LoadingCard:function(){return c},LoadingContent:function(){return x},LoadingGrid:function(){return u},LoadingTable:function(){return d},PageLoading:function(){return n}});var a=s(7437);s(2265);var r=s(3448),l=s(1817);let n=e=>{let{message:t="加载中...",className:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("min-h-screen flex flex-col items-center justify-center bg-neutral-50",s),children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-primary-200 border-t-primary animate-spin"})}),(0,a.jsx)("p",{className:"text-neutral-600 font-medium",children:t})]})})},i=e=>{let{size:t="md",className:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("flex items-center justify-center",s),children:(0,a.jsx)(l.Z,{className:(0,r.cn)("animate-spin text-primary",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t])})})},c=e=>{let{className:t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("bg-white border border-neutral-200 p-6",t),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 w-24 bg-neutral-200 animate-pulse"}),(0,a.jsx)("div",{className:"h-8 w-32 bg-neutral-200 animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-20 bg-neutral-200 animate-pulse"})]}),(0,a.jsx)("div",{className:"h-12 w-12 bg-neutral-200 animate-pulse"})]})})},o=e=>{let{columns:t=5,className:s}=e;return(0,a.jsx)("tr",{className:s,children:Array.from({length:t}).map((e,t)=>(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"h-4 bg-neutral-200 animate-pulse",style:{width:"".concat(60+40*Math.random(),"%")}})},t))})},d=e=>{let{rows:t=5,columns:s=5,className:l}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("bg-white border border-neutral-200",l),children:[(0,a.jsx)("div",{className:"p-4 border-b border-neutral-200",children:(0,a.jsx)("div",{className:"h-6 w-32 bg-neutral-200 animate-pulse"})}),(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-neutral-50",children:(0,a.jsx)("tr",{children:Array.from({length:s}).map((e,t)=>(0,a.jsx)("th",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"h-4 w-20 bg-neutral-200 animate-pulse"})},t))})}),(0,a.jsx)("tbody",{className:"divide-y divide-neutral-200",children:Array.from({length:t}).map((e,t)=>(0,a.jsx)(o,{columns:s},t))})]})]})},m=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("bg-white border border-neutral-200 overflow-hidden",t),children:[(0,a.jsx)("div",{className:"aspect-[4/3] bg-neutral-200 animate-pulse"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"h-5 w-3/4 bg-neutral-200 animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-1/2 bg-neutral-200 animate-pulse"}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsx)("div",{className:"h-6 w-24 bg-neutral-200 animate-pulse"}),(0,a.jsx)("div",{className:"h-8 w-20 bg-neutral-200 animate-pulse"})]})]})]})},u=e=>{let{count:t=6,columns:s=3,className:l}=e;return(0,a.jsx)("div",{className:(0,r.cn)("grid gap-6",{2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}[s],l),children:Array.from({length:t}).map((e,t)=>(0,a.jsx)(m,{},t))})},x=e=>{let{lines:t=4,className:s}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("space-y-3",s),children:[(0,a.jsx)("div",{className:"h-8 w-3/4 bg-neutral-200 animate-pulse"}),Array.from({length:t}).map((e,t)=>(0,a.jsx)("div",{className:"h-4 bg-neutral-200 animate-pulse",style:{width:"".concat(80+20*Math.random(),"%")}},t))]})};t.default=n},7644:function(e,t,s){"use strict";s.d(t,{Yt:function(){return m}});var a=s(7437),r=s(2265),l=s(3145),n=s(3448),i=s(1427);let c={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},o={sm:"w-2.5 h-2.5",md:"w-3 h-3",lg:"w-3.5 h-3.5",xl:"w-4 h-4"},d={online:"bg-green-500",offline:"bg-gray-400",away:"bg-yellow-500"};function m(e){let{name:t,image:s,size:m="md",className:u,showStatus:x=!1,status:h="offline"}=e,[g,p]=(0,r.useState)(!1),f=(0,i.hx)(t),b=(0,i.Qm)(t),j=!s||g;return(0,a.jsxs)("div",{className:(0,n.cn)("relative inline-block",u),children:[(0,a.jsx)("div",{className:(0,n.cn)("relative rounded-full overflow-hidden flex items-center justify-center font-semibold text-white transition-all duration-200","ring-2 ring-white shadow-sm",c[m]),style:{backgroundColor:j?f:void 0},children:j?(0,a.jsx)("span",{className:"select-none",children:b}):(0,a.jsx)(l.default,{src:s,alt:t||"User avatar",fill:!0,className:"object-cover",onError:()=>p(!0),sizes:"(max-width: 768px) 32px, 40px"})}),x&&(0,a.jsx)("span",{className:(0,n.cn)("absolute bottom-0 right-0 rounded-full border-2 border-white",o[m],d[h])})]})}},1427:function(e,t,s){"use strict";s.d(t,{Qm:function(){return a.Qm},aC:function(){return a.aC},hx:function(){return a.hx}});var a=s(1579)},1579:function(e,t,s){"use strict";s.d(t,{Qm:function(){return x},UserProvider:function(){return d},aC:function(){return m},aF:function(){return m},hx:function(){return u}});var a=s(7437),r=s(2265),l=s(605);let n={language:"zh",currency:"CAD",notifications:{email:!0,sms:!0,marketing:!1}},i="stayneos_auth_token",c="stayneos_user_data",o=(0,r.createContext)(void 0);function d(e){let{children:t}=e,{data:s,status:d}=(0,l.useSession)(),[m,u]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(()=>{try{let e=localStorage.getItem(c),t=localStorage.getItem(i);if(e&&t){let t=JSON.parse(e);u(t)}}catch(e){console.error("Error loading user from storage:",e),localStorage.removeItem(c),localStorage.removeItem(i)}finally{h(!1)}})()},[]),(0,r.useEffect)(()=>{let e=e=>{if(e.key===c){if(e.newValue)try{let t=JSON.parse(e.newValue);u(t)}catch(e){u(null)}else u(null)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,r.useEffect)(()=>{if("authenticated"===d&&(null==s?void 0:s.user)){let e=s.user.name||"",t=e.split(" "),a=t[0]||"",r=t.slice(1).join(" ")||"",l={id:s.user.id,firstName:a,lastName:r,name:e,email:s.user.email||"",image:s.user.image||void 0,avatar:s.user.image||void 0,phone:"",dateOfBirth:"",nationality:"",preferences:n,memberSince:new Date().toISOString().split("T")[0],memberLevel:"普通会员",role:s.user.role||"USER"};u(l),localStorage.setItem(c,JSON.stringify(l))}else"unauthenticated"!==d||localStorage.getItem(i)||u(null)},[s,d]);let g=(0,r.useCallback)(async e=>{h(!0);try{u(t=>{if(!t)return null;let s={...t,...e};return localStorage.setItem(c,JSON.stringify(s)),s}),await new Promise(e=>setTimeout(e,500))}finally{h(!1)}},[]),p=(0,r.useCallback)(async e=>{h(!0);try{u(t=>{if(!t)return null;let s={...t,preferences:{...t.preferences,...e,notifications:{...t.preferences.notifications,...e.notifications}}};return localStorage.setItem(c,JSON.stringify(s)),e.language&&(window.dispatchEvent(new CustomEvent("localeChange")),localStorage.setItem("preferred-locale",e.language)),s}),await new Promise(e=>setTimeout(e,300))}finally{h(!1)}},[]),f=(0,r.useCallback)(async e=>{h(!0);try{u(t=>{if(!t)return null;let s={...t,avatar:e,image:e};return localStorage.setItem(c,JSON.stringify(s)),s}),await new Promise(e=>setTimeout(e,500))}finally{h(!1)}},[]),b=(0,r.useCallback)(async()=>{localStorage.removeItem(i),localStorage.removeItem(c),u(null),window.dispatchEvent(new CustomEvent("localStorageChange")),await (0,l.signOut)({callbackUrl:"/"})},[]),j=(0,r.useCallback)(async()=>{try{let e=localStorage.getItem(i);if(!e)return;let t=await fetch("/api/auth/session",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();u(t=>{if(!t)return null;let s={...t,...e};return localStorage.setItem(c,JSON.stringify(s)),s})}else 401===t.status&&await b()}catch(e){console.error("Error refreshing user:",e)}},[b]);return(0,r.useEffect)(()=>{if(!localStorage.getItem(i))return;let e=setInterval(()=>{j()},3e5);return()=>clearInterval(e)},[j]),(0,a.jsx)(o.Provider,{value:{user:m,isLoading:x||"loading"===d,isAuthenticated:!!m,updateProfile:g,updatePreferences:p,updateAvatar:f,logout:b,refreshUser:j},children:t})}function m(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}function u(e){if(!e)return"#3B82F6";let t=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16","#F97316","#6366F1"],s=0;for(let t=0;t<e.length;t++)s=e.charCodeAt(t)+((s<<5)-s);return t[Math.abs(s)%t.length]}function x(e){if(!e)return"?";let t=e.trim().split(/\s+/);return 1===t.length?t[0].slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()}},6586:function(e,t,s){"use strict";s.d(t,{_1:function(){return r},wV:function(){return a}});let a=[{id:"1",title:"Cooper St Luxury Lakeview Apartment",titleZh:"Cooper St 豪华湖景公寓",titleFr:"Appartement de luxe avec vue sur le lac Cooper St",location:"55 Cooper St, Toronto, ON M5E 0G1",price:680,priceUnit:"晚",rating:4.9,reviewCount:42,images:["/images/cooper-55-c5e8357d.jpg","/images/cooper-55-e98a880d.jpg","/images/cooper-55-a12c07ee.jpg","/images/cooper-55-c38824ec.jpg","/images/cooper-55-e62f3e96.jpg"],maxGuests:6,area:111,bedrooms:3,bathrooms:3,amenities:["WiFi","空调","洗衣机","厨房","湖景","停车位","24小时安保"],featured:!0,description:"Located in the heart of downtown Toronto with stunning views of Lake Ontario. This modern luxury apartment features 3 bedrooms and 3 bathrooms in a spacious 1,200 sq ft space. Just steps from the Distillery District and walking distance to the waterfront trail. Equipped with high-end furniture and amenities.",descriptionZh:"位于多伦多市中心核心地段，享有安大略湖壮丽景色。现代化设计的豪华公寓，3室3卫，1200平方英尺宽敞空间，距离Distillery District仅几步之遥，步行可达湖滨步道。配备高端家具和设施。",descriptionFr:"Situ\xe9 au cœur du centre-ville de Toronto avec une vue imprenable sur le lac Ontario. Cet appartement de luxe moderne comprend 3 chambres et 3 salles de bains dans un espace spacieux de 1 200 pieds carr\xe9s. \xc0 quelques pas du Distillery District et \xe0 distance de marche de la promenade en bord de mer. \xc9quip\xe9 de meubles et d'\xe9quipements haut de gamme.",minNights:28,monthlyDiscount:20},{id:"2",title:"Simcoe St High-rise Boutique Apartment",titleZh:"Simcoe St 高层精品公寓",titleFr:"Appartement boutique en haute altitude Simcoe St",location:"238 Simcoe St, Toronto, ON M5S 1T4",price:450,priceUnit:"晚",rating:4.8,reviewCount:38,images:["/images/simcoe-238-living.jpg","/images/simcoe-238-kitchen.jpg","/images/simcoe-238-1.jpg","/images/simcoe-238-bath1.jpg"],maxGuests:5,area:102,bedrooms:3,bathrooms:2,amenities:["WiFi","空调","洗衣机","厨房","高层景观","24小时安保","浴缸"],featured:!0,description:"A high-rise apartment in downtown Toronto offering beautiful city skyline views. Modern decor with 3 bedrooms and 2 bathrooms in a spacious 1,100 sq ft space. Walking distance to University of Toronto, Royal Ontario Museum, and major business districts.",descriptionZh:"位于多伦多市中心的高层公寓，享有城市天际线美景。现代化装修，3室2卫，1100平方英尺宽敞空间，步行可达多伦多大学、皇家博物馆和各大商业区。",descriptionFr:"Un appartement en haute altitude au centre-ville de Toronto offrant une belle vue sur la ligne d'horizon de la ville. D\xe9cor moderne avec 3 chambres et 2 salles de bains dans un espace spacieux de 1 100 pieds carr\xe9s. \xc0 distance de marche de l'Universit\xe9 de Toronto, du Mus\xe9e royal de l'Ontario et des principaux quartiers d'affaires.",minNights:28,monthlyDiscount:20}],r=e=>a.find(t=>t.id===e)},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(1994),r=s(3335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[7648,863,5878,605,2971,2117,1744],function(){return e(e.s=8704)}),_N_E=e.O()}]);