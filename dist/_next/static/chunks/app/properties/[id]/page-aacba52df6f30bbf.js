(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{5709:function(e,s,a){Promise.resolve().then(a.bind(a,6650))},6650:function(e,s,a){"use strict";a.d(s,{default:function(){return G}});var t=a(7437),i=a(2265),r=a(9376),l=a(3145),c=a(7648),n=a(6366),d=a(6586),m=a(2926),o=a(2973),x=a(1818),g=a(8553),h=a(3850),p=a(4394),j=a(7662),b=a(5471),u=a(7737),N=a(7910),f=a(2805),v=a(7755),y=a(5005),w=a(407),Z=a(8919),C=a(8997),D=a(3774),S=a(6595),z=a(5805),k=a(1128),A=a(3299),L=a(5884),$=a(401);let _={WiFi:m.Z,空调:o.Z,洗衣机:x.Z,厨房:g.Z,健身房:h.Z,游泳池:p.Z,停车位:j.Z,管家服务:b.Z,江景:u.Z,私人电梯:N.Z,艺术装饰:f.Z,阳台:v.Z,会议室:y.Z,商务中心:y.Z,湖景:u.Z},F=[{id:1,user:"张先生",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100",rating:5,date:"2024-01-15",content:"非常棒的住宿体验！房间干净整洁，设施齐全，位置也很方便。管家服务非常贴心，下次还会选择这里。"},{id:2,user:"李女士",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100",rating:5,date:"2024-01-10",content:"性价比很高，装修很有品味，床品也很舒适。厨房设备齐全，自己做饭很方便。"},{id:3,user:"王先生",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100",rating:4,date:"2024-01-05",content:"整体体验不错，就是停车位有点紧张。不过位置真的很好，周边吃喝玩乐都很方便。"}];function G(e){let{params:s}=e,a=(0,d._1)(s.id),[m,o]=(0,i.useState)(""),[x,g]=(0,i.useState)(""),[h,p]=(0,i.useState)(2),[j,b]=(0,i.useState)(!1);a||(0,r.notFound)();let u=(()=>{if(!m||!x)return 0;let e=new Date(m),s=Math.ceil((new Date(x).getTime()-e.getTime())/864e5);return s>0?s:0})(),N=u>=28,f=N&&a.monthlyDiscount?(100-a.monthlyDiscount)/100:1,v=Math.round(a.price*f),y=u*v,G=Math.round(.1*y);return(0,t.jsxs)("main",{className:"min-h-screen bg-amber-50",children:[(0,t.jsx)(n.default,{}),(0,t.jsx)("div",{className:"pt-20 pb-12",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsxs)("nav",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[(0,t.jsx)(c.default,{href:"/",className:"hover:text-gray-900",children:"首页"}),(0,t.jsx)(w.Z,{size:14}),(0,t.jsx)(c.default,{href:"/properties",className:"hover:text-gray-900",children:"房源"}),(0,t.jsx)(w.Z,{size:14}),(0,t.jsx)("span",{className:"text-gray-900 truncate",children:a.title})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:a.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(Z.Z,{size:18}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"分享"})]}),(0,t.jsxs)("button",{onClick:()=>b(!j),className:"flex items-center gap-2 text-gray-600 hover:text-red-500",children:[(0,t.jsx)(C.Z,{size:18,className:j?"fill-red-500 text-red-500":""}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"收藏"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"relative aspect-[4/3] md:aspect-auto",children:(0,t.jsx)(l.default,{src:a.images[0],alt:a.title,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 50vw",priority:!0})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:a.images.slice(1,5).map((e,s)=>(0,t.jsx)("div",{className:"relative aspect-[4/3]",children:(0,t.jsx)(l.default,{src:e,alt:"".concat(a.title," - ").concat(s+2),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 50vw, 25vw"})},s))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:[a.bedrooms,"室",a.bathrooms,"卫 \xb7 ",a.area,"m\xb2"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,t.jsx)(D.Z,{size:16}),(0,t.jsx)("span",{children:a.location})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 bg-amber-100 rounded-lg",children:[(0,t.jsx)(S.Z,{size:16,className:"text-amber-600 fill-amber-600"}),(0,t.jsx)("span",{className:"font-semibold text-amber-800",children:a.rating}),(0,t.jsx)("span",{className:"text-amber-600",children:"\xb7"}),(0,t.jsxs)("span",{className:"text-amber-800",children:[a.reviewCount,"条评价"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-600 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z.Z,{size:18}),(0,t.jsxs)("span",{children:["最多",a.maxGuests,"人"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{size:18}),(0,t.jsxs)("span",{children:[a.bedrooms,"间卧室"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A.Z,{size:18}),(0,t.jsxs)("span",{children:[a.bathrooms,"间浴室"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(L.Z,{size:18}),(0,t.jsxs)("span",{children:[a.area,"m\xb2"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"配套设施"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.amenities.map(e=>{let s=_[e]||$.Z;return(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(s,{size:20,className:"text-gray-600"}),(0,t.jsx)("span",{className:"text-gray-700",children:e})]},e)})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"房源介绍"}),(0,t.jsxs)("p",{className:"text-gray-600 leading-relaxed",children:["这套位于",a.location,"的精美公寓，拥有",a.bedrooms,"间宽敞舒适的卧室和",a.bathrooms,"间现代化浴室。 公寓总面积",a.area,"平方米，最多可容纳",a.maxGuests,"位客人入住。"]}),a.description&&(0,t.jsx)("p",{className:"text-gray-600 leading-relaxed mt-4",children:a.description})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"房源位置"}),(0,t.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(D.Z,{size:48,className:"text-gray-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-500",children:a.location}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"地图加载中..."})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)(S.Z,{size:24,className:"text-amber-500 fill-amber-500"}),(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:[a.rating," \xb7 ",a.reviewCount,"条评价"]})]}),(0,t.jsx)("div",{className:"space-y-6",children:F.map(e=>(0,t.jsxs)("div",{className:"border-b border-gray-100 last:border-0 pb-6 last:pb-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"relative w-10 h-10 rounded-full overflow-hidden",children:(0,t.jsx)(l.default,{src:e.avatar,alt:e.user,fill:!0,className:"object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.user}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.date})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-1 mb-2",children:Array.from({length:5}).map((s,a)=>(0,t.jsx)(S.Z,{size:14,className:a<e.rating?"text-amber-400 fill-amber-400":"text-gray-300"},a))}),(0,t.jsx)("p",{className:"text-gray-600",children:e.content})]},e.id))}),(0,t.jsx)("button",{className:"mt-6 px-6 py-3 border border-gray-900 text-gray-900 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"查看全部评价"})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"sticky top-24 bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-baseline justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",a.price.toLocaleString()," CAD"]}),(0,t.jsxs)("span",{className:"text-gray-500",children:["/",a.priceUnit]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(S.Z,{size:16,className:"text-amber-400 fill-amber-400"}),(0,t.jsx)("span",{className:"font-medium",children:a.rating})]})]}),a.minNights&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm text-amber-800 font-medium",children:["\uD83C\uDFE0 ",a.minNights,"天起租"]}),a.monthlyDiscount&&(0,t.jsxs)("p",{className:"text-sm text-amber-700 mt-1",children:["月租享",a.monthlyDiscount,"%折扣"]})]}),(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden mb-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 border-b border-gray-300",children:[(0,t.jsxs)("div",{className:"p-3 border-r border-gray-300",children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-gray-700 uppercase",children:"入住日期"}),(0,t.jsx)("input",{type:"date",value:m,onChange:e=>o(e.target.value),className:"w-full mt-1 text-sm focus:outline-none"})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-gray-700 uppercase",children:"退房日期"}),(0,t.jsx)("input",{type:"date",value:x,onChange:e=>g(e.target.value),className:"w-full mt-1 text-sm focus:outline-none"})]})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-gray-700 uppercase",children:"入住人数"}),(0,t.jsx)("select",{value:h,onChange:e=>p(Number(e.target.value)),className:"w-full mt-1 text-sm focus:outline-none bg-transparent",children:Array.from({length:a.maxGuests}).map((e,s)=>(0,t.jsxs)("option",{value:s+1,children:[s+1,"位房客"]},s))})]})]}),(0,t.jsx)("button",{className:"w-full py-3 bg-amber-500 text-white font-semibold rounded-lg hover:bg-amber-600 transition-colors mb-4",onClick:()=>{if(!m||!x){alert("请选择入住和退房日期");return}alert("预订功能开发中...")},children:"预订"}),(0,t.jsx)("p",{className:"text-center text-sm text-gray-500 mb-6",children:"您暂时不会被收费"}),u>0&&(0,t.jsxs)("div",{className:"space-y-3 text-sm border-t border-gray-100 pt-4",children:[N&&a.monthlyDiscount?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex justify-between",children:(0,t.jsxs)("span",{className:"text-gray-600 line-through",children:["原价 $",a.price.toLocaleString()," CAD"]})}),(0,t.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,t.jsxs)("span",{className:"underline",children:["月租价 $",v.toLocaleString()," CAD x ",u,"晚"]}),(0,t.jsxs)("span",{children:["$",y.toLocaleString()," CAD"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,t.jsxs)("span",{children:["月租优惠 (",a.monthlyDiscount,"% off)"]}),(0,t.jsxs)("span",{children:["-$",((a.price-v)*u).toLocaleString()," CAD"]})]})]}):(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{className:"text-gray-600 underline",children:["$",a.price.toLocaleString()," CAD x ",u,"晚"]}),(0,t.jsxs)("span",{children:["$",y.toLocaleString()," CAD"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 underline",children:"服务费"}),(0,t.jsxs)("span",{children:["$",G.toLocaleString()," CAD"]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-3 border-t border-gray-100 font-semibold text-base",children:[(0,t.jsx)("span",{children:"总价"}),(0,t.jsxs)("span",{children:["$",(y+G).toLocaleString()," CAD"]})]}),u<(a.minNights||0)&&(0,t.jsxs)("p",{className:"text-amber-600 text-xs mt-2",children:["* 最少需预订 ",a.minNights," 天"]})]})]})})]})]})})]})}},6586:function(e,s,a){"use strict";a.d(s,{_1:function(){return i},wV:function(){return t}});let t=[{id:"1",title:"Cooper St 豪华湖景公寓",location:"5811-55 Cooper St, Toronto, ON M5E 0G1",price:680,priceUnit:"晚",rating:4.9,reviewCount:42,images:["/images/cooper-55-dining.jpg","/images/cooper-55-c5e8357d.jpg","/images/cooper-55-e98a880d.jpg","/images/cooper-55-a12c07ee.jpg","/images/cooper-55-c38824ec.jpg","/images/cooper-55-e62f3e96.jpg","/images/cooper-55-b16f7ae9.jpg","/images/cooper-55-b734cd4b.jpg","/images/cooper-55-cff56997.jpg","/images/cooper-55-15c489d2.jpg","/images/cooper-55-7a4fc63b.jpg","/images/toronto-apt-1.jpg"],maxGuests:4,area:95,bedrooms:2,bathrooms:2,amenities:["WiFi","空调","洗衣机","厨房","湖景","停车位","24小时安保"],featured:!0,description:"位于多伦多市中心核心地段，享有安大略湖壮丽景色。现代化设计的豪华公寓，距离Distillery District仅几步之遥，步行可达湖滨步道。配备高端家具和设施，主卧和次卧均可欣赏湖景。",minNights:28,monthlyDiscount:20},{id:"2",title:"Simcoe St 高层精品公寓",location:"3709-238 Simcoe St, Toronto, ON M5S 1T4",price:450,priceUnit:"晚",rating:4.8,reviewCount:38,images:["/images/simcoe-238-living.jpg","/images/simcoe-238-kitchen.jpg","/images/simcoe-238-1.jpg","/images/simcoe-238-bath1.jpg","/images/simcoe-238-bath2.jpg"],maxGuests:2,area:75,bedrooms:1,bathrooms:2,amenities:["WiFi","空调","洗衣机","厨房","高层景观","24小时安保","双卫生间","浴缸"],featured:!0,description:"位于多伦多市中心的高层公寓，享有城市天际线美景。现代化装修，步行可达多伦多大学、皇家博物馆和各大商业区。配备双卫生间，主卧带独立卫浴。",minNights:28,monthlyDiscount:20}],i=e=>t.find(s=>s.id===e)}},function(e){e.O(0,[421,145,290,366,971,117,744],function(){return e(e.s=5709)}),_N_E=e.O()}]);