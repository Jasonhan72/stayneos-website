"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8211],{8211:function(e,t,n){var l=n(7437),r=n(2265),s=n(2489),a=n(2023),i=n(2451),c=n(407),o=n(806),u=n(3448);let d=(e,t)=>{let n=new Date(e,t,1),l=new Date(e,t+1,0).getDate(),r=n.getDay(),s=[];for(let e=0;e<r;e++)s.push(null);for(let e=1;e<=l;e++)s.push(e);return s},h=(e,t)=>{if(!e||!t)return 0;let n=new Date(e);return Math.ceil((new Date(t).getTime()-n.getTime())/864e5)},m={zh:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],weekDays:["日","一","二","三","四","五","六"],checkIn:"入住",checkOut:"退房",selectDate:"选择日期",clearDates:"清除日期",done:"完成",monthlyDiscountHint:"月租优惠",minNightsHint:"最少{count}晚"},en:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekDays:["Su","Mo","Tu","We","Th","Fr","Sa"],checkIn:"Check-in",checkOut:"Check-out",selectDate:"Add date",clearDates:"Clear",done:"Done",monthlyDiscountHint:"Monthly discount",minNightsHint:"Min {count} nights"},fr:{months:["Jan","F\xe9v","Mar","Avr","Mai","Jun","Jul","Ao\xfb","Sep","Oct","Nov","D\xe9c"],weekDays:["Di","Lu","Ma","Me","Je","Ve","Sa"],checkIn:"Arriv\xe9e",checkOut:"D\xe9part",selectDate:"Ajouter",clearDates:"Effacer",done:"Termin\xe9",monthlyDiscountHint:"R\xe9duction mensuelle",minNightsHint:"Min {count} nuits"}};t.Z=function(e){let{checkIn:t,checkOut:n,onCheckInChange:x,onCheckOutChange:g,minNights:p=1,monthlyDiscount:f,className:b=""}=e,{locale:v}=(0,o.Q)(),[w,D]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[y,k]=(0,r.useState)(new Date().getMonth()),[S,C]=(0,r.useState)(new Date().getFullYear()),[M,O]=(0,r.useState)(null),I=(0,r.useRef)(null),z=window.innerWidth<768,T=m[v]||m.zh;(0,r.useEffect)(()=>{let e=e=>{I.current&&!I.current.contains(e.target)&&(D(!1),N(null))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let E=new Date;E.setHours(0,0,0,0);let H=h(t,n),A=f&&H>=28,J=(0,r.useCallback)(function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new Date(S,y+l,e).toISOString().split("T")[0];if("checkIn"!==j&&(t||j)){if("checkOut"===j||t&&!n){if(new Date(r)<=new Date(t))return;g(r),D(!1),N(null)}}else n&&new Date(r)>=new Date(n)?(x(r),g("")):x(r),N("checkOut")},[t,n,j,y,S,x,g]),F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(S,y+t,e)<E},L=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t||!e)return!1;let r=new Date(S,y+l,e),s=new Date(t),a=n?new Date(n):M?new Date(M):null;return!!a&&r>s&&r<a},Z=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!t&&!!e&&new Date(S,y+n,e).toISOString().split("T")[0]===t},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!n&&!!e&&new Date(S,y+t,e).toISOString().split("T")[0]===n},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!f)return!1;let n=new Date(S,y+t,e),l=new Date(n);return l.setDate(n.getDate()+28),n>=E&&l>E},q=()=>{x(""),g(""),N("checkIn")},P=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t||n)return;let r=new Date(S,y+l,e);r>new Date(t)&&O(r.toISOString().split("T")[0])},W=()=>{O(null)},Y=d(S,y),Q=d(S,y+1),U=e=>e?new Date(e).toLocaleDateString("zh"===v?"zh-CN":"fr"===v?"fr-FR":"en-US",{month:"short",day:"numeric"}):"";return(0,l.jsxs)("div",{ref:I,className:(0,u.cn)("relative",b),children:[(0,l.jsxs)("div",{className:(0,u.cn)("flex border-2 rounded-xl bg-white transition-all duration-200 overflow-hidden",w?"border-primary shadow-lg":"border-neutral-200 hover:border-neutral-300"),onClick:()=>!w&&D(!0),children:[(0,l.jsxs)("div",{className:(0,u.cn)("flex-1 px-4 py-3 cursor-pointer border-r border-neutral-200 transition-colors","checkIn"===j?"bg-neutral-50":""),onClick:()=>{D(!0),N("checkIn")},children:[(0,l.jsx)("div",{className:"text-xs font-semibold text-neutral-900 uppercase tracking-wide",children:T.checkIn}),(0,l.jsx)("div",{className:(0,u.cn)("text-sm mt-1 font-medium",t?"text-neutral-900":"text-neutral-400"),children:t?U(t):T.selectDate})]}),(0,l.jsxs)("div",{className:(0,u.cn)("flex-1 px-4 py-3 cursor-pointer transition-colors","checkOut"===j?"bg-neutral-50":""),onClick:()=>{t&&(D(!0),N("checkOut"))},children:[(0,l.jsx)("div",{className:"text-xs font-semibold text-neutral-900 uppercase tracking-wide",children:T.checkOut}),(0,l.jsx)("div",{className:(0,u.cn)("text-sm mt-1 font-medium",n?"text-neutral-900":"text-neutral-400"),children:n?U(n):T.selectDate})]}),(t||n)&&(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),q()},className:"px-3 hover:bg-neutral-100 flex items-center transition-colors","aria-label":"Clear dates",children:(0,l.jsx)(s.Z,{size:18,className:"text-neutral-400"})})]}),f&&(0,l.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-accent-600",children:[(0,l.jsx)(a.Z,{size:14}),(0,l.jsxs)("span",{children:[T.monthlyDiscountHint,": ",f,"% off for 28+ nights"]})]}),w&&(0,l.jsxs)("div",{className:(0,u.cn)("absolute top-full left-0 mt-2 bg-white border border-neutral-200 rounded-xl shadow-2xl z-50 overflow-hidden",z?"w-[340px] right-0":"w-auto"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-100",children:[(0,l.jsx)("button",{onClick:()=>{new Date(S,y-1,1)>=new Date(E.getFullYear(),E.getMonth(),1)&&(0===y?(k(11),C(S-1)):k(y-1))},className:"p-2 hover:bg-neutral-100 rounded-full transition-colors","aria-label":"Previous month",children:(0,l.jsx)(i.Z,{size:20})}),(0,l.jsxs)("div",{className:"flex gap-8 text-sm font-semibold",children:[(0,l.jsxs)("span",{children:[S,"zh"===v?"年 ":" ",T.months[y]]}),!z&&(0,l.jsxs)("span",{children:[11===y?S+1:S,"zh"===v?"年 ":" ",T.months[(y+1)%12]]})]}),(0,l.jsx)("button",{onClick:()=>{11===y?(k(0),C(S+1)):k(y+1)},className:"p-2 hover:bg-neutral-100 rounded-full transition-colors","aria-label":"Next month",children:(0,l.jsx)(c.Z,{size:20})})]}),(0,l.jsxs)("div",{className:(0,u.cn)("p-4",!z&&"flex gap-8"),children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:T.weekDays.map(e=>(0,l.jsx)("div",{className:"text-center text-xs font-medium text-neutral-400 py-2",children:e},e))}),(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1",children:Y.map((e,t)=>(0,l.jsxs)("button",{disabled:null===e||null!==e&&F(e,0),onClick:()=>e&&J(e,0),onMouseEnter:()=>e&&P(e,0),onMouseLeave:W,className:(0,u.cn)("aspect-square flex items-center justify-center text-sm rounded-full transition-all duration-150 relative",null===e&&"invisible",null!==e&&F(e,0)&&"text-neutral-300 cursor-not-allowed",null!==e&&!F(e,0)&&"hover:bg-neutral-100 cursor-pointer",null!==e&&Z(e,0)&&"bg-primary text-white hover:bg-primary-600 shadow-md",null!==e&&_(e,0)&&"bg-primary text-white hover:bg-primary-600 shadow-md",null!==e&&L(e,0)&&"bg-primary-50 text-primary",null!==e&&R(e,0)&&!Z(e,0)&&!_(e,0)&&!L(e,0)&&"ring-1 ring-accent-300 ring-inset"),children:[e,null!==e&&R(e,0)&&f&&!Z(e,0)&&!_(e,0)&&(0,l.jsx)("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-accent rounded-full"})]},t))})]}),!z&&(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:T.weekDays.map(e=>(0,l.jsx)("div",{className:"text-center text-xs font-medium text-neutral-400 py-2",children:e},e))}),(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1",children:Q.map((e,t)=>(0,l.jsxs)("button",{disabled:null===e||null!==e&&F(e,1),onClick:()=>e&&J(e,1),onMouseEnter:()=>e&&P(e,1),onMouseLeave:W,className:(0,u.cn)("aspect-square flex items-center justify-center text-sm rounded-full transition-all duration-150 relative",null===e&&"invisible",null!==e&&F(e,1)&&"text-neutral-300 cursor-not-allowed",null!==e&&!F(e,1)&&"hover:bg-neutral-100 cursor-pointer",null!==e&&Z(e,1)&&"bg-primary text-white hover:bg-primary-600 shadow-md",null!==e&&_(e,1)&&"bg-primary text-white hover:bg-primary-600 shadow-md",null!==e&&L(e,1)&&"bg-primary-50 text-primary",null!==e&&R(e,1)&&!Z(e,1)&&!_(e,1)&&!L(e,1)&&"ring-1 ring-accent-300 ring-inset"),children:[e,null!==e&&R(e,1)&&f&&!Z(e,1)&&!_(e,1)&&(0,l.jsx)("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-accent rounded-full"})]},t))})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-neutral-100 bg-neutral-50",children:[(0,l.jsx)("div",{className:"flex items-center gap-4",children:H>0&&(0,l.jsxs)("span",{className:"text-sm text-neutral-600",children:[H," nights",A&&(0,l.jsx)("span",{className:"text-accent-600 ml-1 font-medium",children:"✨ Monthly rate"})]})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:q,className:"px-4 py-2 text-sm font-medium text-neutral-600 hover:text-neutral-900 underline underline-offset-4 transition-colors",children:T.clearDates}),(0,l.jsx)("button",{onClick:()=>D(!1),className:"px-6 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-primary-600 transition-colors",children:T.done})]})]})]})]})}}}]);