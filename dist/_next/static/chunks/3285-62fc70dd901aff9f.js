"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3285],{3909:function(e,s,t){t.d(s,{Lv:function(){return f},UU:function(){return b}});var n=t(7437),i=t(2265),a=t(9376),r=t(2023),l=t(9322),c=t(5805),o=t(875),d=t(9554),m=t(9397),u=t(8906),x=t(6741),h=t(8211),p=t(3245),j=t(3448);function g(e){let{basePrice:s,checkIn:t,checkOut:n,monthlyDiscount:i=0,cleaningFee:a=0,serviceFeeRate:r=.1,taxRate:l=.13}=e;if(!t||!n)return null;let c=new Date(t),o=Math.ceil((new Date(n).getTime()-c.getTime())/864e5);if(o<=0)return null;let d=o>=28,m=d&&i?i:0,u=o*s,x=Math.round((100-m)/100*s),h=o*x,p=u-h,j=Math.round(h*r),g=Math.round((h+a+j)*l);return{nights:o,basePrice:s,originalSubtotal:u,discountedPrice:x,subtotal:h,cleaningFee:a,serviceFee:j,discount:p,discountPercentage:m,tax:g,total:h+a+j+g,isMonthly:d,savings:p}}function b(e){let{basePrice:s,checkIn:t,checkOut:a,monthlyDiscount:l=0,cleaningFee:c=0,serviceFeeRate:o=.1,taxRate:d=.13,currency:m="CAD",className:u,compact:x=!1}=e,h=(0,i.useMemo)(()=>g({basePrice:s,checkIn:t,checkOut:a,monthlyDiscount:l,cleaningFee:c,serviceFeeRate:o,taxRate:d}),[s,t,a,l,c,o,d]);if(!h)return(0,n.jsx)("div",{className:(0,j.cn)("text-center py-4 text-neutral-500",u),children:"Select dates to see pricing"});let b=e=>"$".concat(e.toLocaleString()," ").concat(m);return x?(0,n.jsxs)("div",{className:(0,j.cn)("space-y-2",u),children:[(0,n.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,n.jsxs)("span",{className:"text-neutral-600",children:[h.isMonthly?(0,n.jsxs)("span",{className:"line-through text-neutral-400",children:["$",h.basePrice.toLocaleString()]}):"$".concat(h.basePrice.toLocaleString())," x ",h.nights," nights"]}),(0,n.jsx)("span",{className:"font-medium",children:b(h.subtotal)})]}),h.discount>0&&(0,n.jsxs)("div",{className:"flex justify-between items-center text-success",children:[(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)(r.Z,{size:14}),"Monthly discount (",h.discountPercentage,"% off)"]}),(0,n.jsxs)("span",{children:["-",b(h.discount)]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-600",children:"Service fee"}),(0,n.jsx)("span",{children:b(h.serviceFee)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-600",children:"Taxes (13%)"}),(0,n.jsx)("span",{children:b(h.tax)})]}),(0,n.jsx)("div",{className:"pt-2 border-t border-neutral-200",children:(0,n.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,n.jsx)("span",{className:"font-semibold text-lg",children:"Total"}),(0,n.jsx)("span",{className:"font-bold text-xl",children:b(h.total)})]})})]}):(0,n.jsxs)("div",{className:(0,j.cn)("bg-neutral-50 rounded-xl p-4 space-y-3",u),children:[(0,n.jsxs)("div",{className:"flex items-baseline gap-2",children:[h.isMonthly?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-3xl font-bold text-neutral-900",children:["$",h.discountedPrice.toLocaleString()]}),(0,n.jsxs)("span",{className:"text-lg text-neutral-400 line-through",children:["$",h.basePrice.toLocaleString()]})]}):(0,n.jsxs)("span",{className:"text-3xl font-bold text-neutral-900",children:["$",h.basePrice.toLocaleString()]}),(0,n.jsxs)("span",{className:"text-neutral-500",children:[m," / night"]})]}),h.isMonthly&&l>0&&(0,n.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-accent-100 text-accent-800 rounded-full text-sm font-medium",children:[(0,n.jsx)(r.Z,{size:14}),(0,n.jsxs)("span",{children:["Monthly rate: ",l,"% off applied"]})]}),(0,n.jsxs)("div",{className:"space-y-2 pt-3 border-t border-neutral-200",children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-neutral-600 underline decoration-dotted",children:h.isMonthly?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"line-through",children:["$",h.basePrice.toLocaleString()]})," ","$",h.discountedPrice.toLocaleString()," x ",h.nights," nights"]}):"$".concat(h.basePrice.toLocaleString()," x ").concat(h.nights," nights")}),(0,n.jsx)("span",{className:"text-neutral-900",children:b(h.subtotal)})]}),h.discount>0&&(0,n.jsxs)("div",{className:"flex justify-between text-sm text-success",children:[(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)(r.Z,{size:14}),"Monthly discount (",h.discountPercentage,"% off)"]}),(0,n.jsxs)("span",{children:["-",b(h.discount)]})]}),c>0&&(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-neutral-600",children:"Cleaning fee"}),(0,n.jsx)("span",{className:"text-neutral-900",children:b(h.cleaningFee)})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsxs)("span",{className:"text-neutral-600 flex items-center gap-1",children:["Service fee",(0,n.jsx)(p.Z,{size:14,className:"text-neutral-400"})]}),(0,n.jsx)("span",{className:"text-neutral-900",children:b(h.serviceFee)})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-neutral-600",children:"Taxes (13% HST)"}),(0,n.jsx)("span",{className:"text-neutral-900",children:b(h.tax)})]})]}),(0,n.jsx)("div",{className:"pt-3 border-t border-neutral-200",children:(0,n.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,n.jsx)("span",{className:"font-semibold text-neutral-900",children:"Total"}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("span",{className:"font-bold text-2xl text-neutral-900",children:b(h.total)}),(0,n.jsx)("span",{className:"text-sm text-neutral-500 block",children:m})]})]})}),h.savings>0&&(0,n.jsx)("div",{className:"pt-2 text-center",children:(0,n.jsxs)("span",{className:"text-sm text-success font-medium",children:["You save ",b(h.savings)," with monthly rate!"]})})]})}function f(e){let{property:s,className:t}=e,p=(0,a.useRouter)(),[f,N]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[w,S]=(0,i.useState)(1),[k,D]=(0,i.useState)(!1),[C,M]=(0,i.useState)(""),[L,T]=(0,i.useState)(!1),z=g({basePrice:s.price,checkIn:f,checkOut:v,monthlyDiscount:s.monthlyDiscount}),Z=(null==z?void 0:z.nights)||0,P=Z>=28&&s.monthlyDiscount,F=(0,i.useCallback)(async()=>{if(!f||!v){M("Please select check-in and check-out dates");return}if(s.minNights&&Z<s.minNights){M("Minimum ".concat(s.minNights," nights required"));return}D(!0),M("");let e=new URLSearchParams({checkIn:f,checkOut:v,guests:w.toString()});p.push("/booking/".concat(s.id,"?").concat(e.toString()))},[f,v,w,Z,s.id,s.minNights,p]),q=e=>{let t=w+e;t>=1&&t<=s.maxGuests&&S(t)};return(0,n.jsxs)("div",{className:(0,j.cn)("bg-white rounded-2xl border border-neutral-200 shadow-xl p-6 sticky top-24",t),children:[(0,n.jsxs)("div",{className:"flex items-baseline justify-between mb-4",children:[(0,n.jsxs)("div",{className:"flex items-baseline gap-1",children:[P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-2xl font-bold text-neutral-900",children:["$",Math.round(s.price*(100-(s.monthlyDiscount||0))/100).toLocaleString()]}),(0,n.jsxs)("span",{className:"text-lg text-neutral-400 line-through ml-2",children:["$",s.price.toLocaleString()]})]}):(0,n.jsxs)("span",{className:"text-2xl font-bold text-neutral-900",children:["$",s.price.toLocaleString()]}),(0,n.jsx)("span",{className:"text-neutral-500",children:" CAD / night"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,n.jsx)("span",{className:"font-medium",children:"4.9"}),(0,n.jsx)("span",{className:"text-neutral-400",children:"\xb7 127 reviews"})]})]}),s.monthlyDiscount&&s.monthlyDiscount>0&&(0,n.jsxs)("div",{className:"mb-4 p-3 bg-accent-50 border border-accent-200 rounded-xl",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-accent-800",children:[(0,n.jsx)(r.Z,{size:16,className:"shrink-0"}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsxs)("span",{className:"font-semibold",children:[s.monthlyDiscount,"% off"]})," ","for stays of 28+ nights"]})]}),"        "]}),s.minNights&&Z>0&&Z<s.minNights&&(0,n.jsx)("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:(0,n.jsxs)("div",{className:"flex items-start gap-2 text-amber-800 text-sm",children:[(0,n.jsx)(l.Z,{size:16,className:"shrink-0 mt-0.5"}),(0,n.jsxs)("span",{children:["Minimum ",s.minNights," nights required"]})]})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{children:(0,n.jsx)(h.Z,{checkIn:f,checkOut:v,onCheckInChange:N,onCheckOutChange:y,minNights:s.minNights,monthlyDiscount:s.monthlyDiscount})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("label",{className:"block text-xs font-semibold text-neutral-900 uppercase tracking-wide mb-1",children:"Guests"}),(0,n.jsxs)("button",{onClick:()=>T(!L),className:"w-full flex items-center justify-between px-4 py-3 border-2 border-neutral-200 rounded-xl hover:border-neutral-300 transition-colors bg-white",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.Z,{size:18,className:"text-neutral-400"}),(0,n.jsxs)("span",{className:"font-medium",children:[w," ",1===w?"guest":"guests"]})]}),(0,n.jsx)(o.Z,{size:18,className:(0,j.cn)("text-neutral-400 transition-transform",L&&"rotate-180")})]}),L&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>T(!1)}),(0,n.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-neutral-200 rounded-xl shadow-xl p-4 z-20",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:"Guests"}),(0,n.jsxs)("p",{className:"text-sm text-neutral-500",children:["Max ",s.maxGuests," guests"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:()=>q(-1),disabled:w<=1,className:"w-8 h-8 flex items-center justify-center rounded-full border border-neutral-300 hover:border-neutral-400 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:(0,n.jsx)(d.Z,{size:16})}),(0,n.jsx)("span",{className:"w-6 text-center font-medium",children:w}),(0,n.jsx)("button",{onClick:()=>q(1),disabled:w>=s.maxGuests,className:"w-8 h-8 flex items-center justify-center rounded-full border border-neutral-300 hover:border-neutral-400 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:(0,n.jsx)(m.Z,{size:16})})]})]})})]})]}),C&&(0,n.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:C}),(0,n.jsx)(x.zx,{onClick:F,disabled:k||!f||!v||!!s.minNights&&Z<s.minNights,isLoading:k,fullWidth:!0,size:"lg",className:"py-4 text-lg font-semibold",children:k?"Processing...":z?"Reserve":"Check availability"}),(0,n.jsx)("p",{className:"text-center text-sm text-neutral-500",children:"You won't be charged yet"}),z&&(0,n.jsx)("div",{className:"pt-4 border-t border-neutral-200",children:(0,n.jsx)(b,{basePrice:s.price,checkIn:f,checkOut:v,monthlyDiscount:s.monthlyDiscount,compact:!0})})]}),(0,n.jsx)("div",{className:"mt-6 pt-6 border-t border-neutral-200",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[(0,n.jsx)(u.Z,{size:16,className:"text-primary"}),(0,n.jsx)("span",{children:"Secure booking \xb7 Free cancellation within 24h"})]})})]})}},6586:function(e,s,t){t.d(s,{_1:function(){return i},wV:function(){return n}});let n=[{id:"1",title:"Cooper St Luxury Lakeview Apartment",titleZh:"Cooper St 豪华湖景公寓",titleFr:"Appartement de luxe avec vue sur le lac Cooper St",location:"55 Cooper St, Toronto, ON M5E 0G1",price:680,priceUnit:"晚",rating:4.9,reviewCount:42,images:["/images/cooper-55-c5e8357d.jpg","/images/cooper-55-e98a880d.jpg","/images/cooper-55-a12c07ee.jpg","/images/cooper-55-c38824ec.jpg","/images/cooper-55-e62f3e96.jpg"],maxGuests:6,area:111,bedrooms:3,bathrooms:3,amenities:["WiFi","空调","洗衣机","厨房","湖景","停车位","24小时安保"],featured:!0,description:"Located in the heart of downtown Toronto with stunning views of Lake Ontario. This modern luxury apartment features 3 bedrooms and 3 bathrooms in a spacious 1,200 sq ft space. Just steps from the Distillery District and walking distance to the waterfront trail. Equipped with high-end furniture and amenities.",descriptionZh:"位于多伦多市中心核心地段，享有安大略湖壮丽景色。现代化设计的豪华公寓，3室3卫，1200平方英尺宽敞空间，距离Distillery District仅几步之遥，步行可达湖滨步道。配备高端家具和设施。",descriptionFr:"Situ\xe9 au cœur du centre-ville de Toronto avec une vue imprenable sur le lac Ontario. Cet appartement de luxe moderne comprend 3 chambres et 3 salles de bains dans un espace spacieux de 1 200 pieds carr\xe9s. \xc0 quelques pas du Distillery District et \xe0 distance de marche de la promenade en bord de mer. \xc9quip\xe9 de meubles et d'\xe9quipements haut de gamme.",minNights:28,monthlyDiscount:20},{id:"2",title:"Simcoe St High-rise Boutique Apartment",titleZh:"Simcoe St 高层精品公寓",titleFr:"Appartement boutique en haute altitude Simcoe St",location:"238 Simcoe St, Toronto, ON M5S 1T4",price:450,priceUnit:"晚",rating:4.8,reviewCount:38,images:["/images/simcoe-238-living.jpg","/images/simcoe-238-kitchen.jpg","/images/simcoe-238-1.jpg","/images/simcoe-238-bath1.jpg"],maxGuests:5,area:102,bedrooms:3,bathrooms:2,amenities:["WiFi","空调","洗衣机","厨房","高层景观","24小时安保","浴缸"],featured:!0,description:"A high-rise apartment in downtown Toronto offering beautiful city skyline views. Modern decor with 3 bedrooms and 2 bathrooms in a spacious 1,100 sq ft space. Walking distance to University of Toronto, Royal Ontario Museum, and major business districts.",descriptionZh:"位于多伦多市中心的高层公寓，享有城市天际线美景。现代化装修，3室2卫，1100平方英尺宽敞空间，步行可达多伦多大学、皇家博物馆和各大商业区。",descriptionFr:"Un appartement en haute altitude au centre-ville de Toronto offrant une belle vue sur la ligne d'horizon de la ville. D\xe9cor moderne avec 3 chambres et 2 salles de bains dans un espace spacieux de 1 100 pieds carr\xe9s. \xc0 distance de marche de l'Universit\xe9 de Toronto, du Mus\xe9e royal de l'Ontario et des principaux quartiers d'affaires.",minNights:28,monthlyDiscount:20}],i=e=>n.find(s=>s.id===e)}}]);